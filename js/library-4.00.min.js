"use strict";let firebaseConfig,sgLibraryVersion="4.00.08",thaiMonthName=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],debugSignIn=!1,gMapsLoaded=!1,sgTabIdActive=null,sgPrintWindow=null;function loadGoogleMaps(t){gMapsLoaded?window[t]():$.getScript("https://maps.googleapis.com/maps/api/js?language=th&key="+googleMapKeyApi+"&callback="+t,(function(t,e,n){})),gMapsLoaded=!0}function notify(t,e){var n=$("#notify"),i=$(document).width();null!=t&&null!=t&&"string"==typeof t||(t=""),""!=t?("LOADING"==t.substring(0,7)?t='<div class="loader -rotate"></div><span>กำลังโหลด'+t.substring(7)+"</span>":"PROCESSING"==t.substring(0,10)&&(t='<div class="loader -rotate"></div><span>กำลังดำเนินการ'+t.substring(10)+"</span>"),n.html(t).hide().on("click",(function(){$(this).hide()})).css({display:"inline-block",left:(i-n.width())/2,"z-index":999999}).fadeIn(),e&&setTimeout((function(){n.fadeOut()}),e)):n.hide().fadeOut()}var fetch_unix_timestamp=function(){return parseInt((new Date).getTime().toString().substring(0,10))};function thousandsSeparators(t,e=",",n=2){if("number"!=typeof t)return t;var i=t.toFixed(n).split(".");return i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,e),i.join(".")}function sgPrintPage(t){sgPrintWindow=window.open(t,"mywindow"),$(sgPrintWindow.document).ready((function(){setTimeout("sgPrintWindow.print()",500),setTimeout("sgPrintWindow.close()",2e3)}))}function showPassword(t){let e=$(t).closest("span").find("input");"password"==e.attr("type")?(e.attr("type","text"),$(t).text("visibility").addClass("-active")):(e.attr("type","password"),$(t).text("visibility_off").removeClass("-active"))}String.prototype.getFuncBody=function(){var t=this.toString();return(t=(t=(t=t.replace(/[^{]+{/,"")).substring(0,t.length-1)).replace(/\n/gi,"")).match(/\(.*\)/gi)||(t+=")"),t},String.prototype.left=function(t){return this.substring(0,t)},String.prototype.empty=function(){var t=this.toString().trim();return""==t||"0"==t},String.prototype.sgMoney=function(t){var e=parseFloat(this.replace(/[^0-9.]+|\.(?!\d)/g,""));return t&&(e=parseFloat(parseFloat(e).toFixed(t))),e},Date.prototype.toW3CString=function(){var t=this.getFullYear(),e=this.getMonth();++e<10&&(e="0"+e);var n=this.getDate();n<10&&(n="0"+n);var i=this.getHours();i<10&&(i="0"+i);var o=this.getMinutes();o<10&&(o="0"+o);var a=this.getSeconds();a<10&&(a="0"+a);var s=-this.getTimezoneOffset(),r=Math.abs(Math.floor(s/60)),c=Math.abs(s)-60*r;r<10&&(r="0"+r),c<10&&(c="0"+c);var l="+";return s<0&&(l="-"),t+"-"+e+"-"+n+"T"+i+":"+o+":"+a+l+r+":"+c},$(document).on("click",(function(t){window.onscroll=function(){}})),$(document).on("submit","form.signform",(function(t){let e=$(this),n=function(t){notify(t.signInResult),e.data("complete")?window.location=e.data("complete"):e.data("rel")?(sgUpdateData(t.signInResult,e.data("rel"),e),e.data("done")&&sgActionDone(e.data("done"),e)):-1!=navigator.userAgent.indexOf("Android")?(debugSignIn&&notify("Sign in from Android "+document.URL),window.location=document.URL):(debugSignIn&&notify("Sign in from Web Browser"),window.location=document.URL)};return""==e.find(".form-text.-username").val()?(notify("กรุณาป้อน Username"),e.find(".form-text.-username").focus()):""==e.find(".form-password.-password").val()?(notify("กรุณาป้อน Password"),e.find(".form-password.-password").focus()):(notify("กำลังเข้าสู่ระบบ"),debugSignIn&&notify("Signin request"),$.post(e.attr("action"),e.serialize(),(function(){}),"json").fail((function(t){t.responseJSON.ok?n(t.responseJSON):notify(t.responseJSON.signInResult)})).done((function(t){t.ok&&n(t)}))),!1})),document.addEventListener("click",(function(t){t.target.classList.contains("-change-color-scheme")&&(document.body.classList.contains("-app-theme-dark")?(t.target.textContent="light_mode",document.body.classList.remove("-app-theme-dark"),setCookie("color-scheme","light",365)):(t.target.textContent="dark_mode",document.body.classList.add("-app-theme-dark"),setCookie("color-scheme","dark",365)))})),$(document).ready((function(){$("body").append('<div id="notify" class="notify-main -no-print"></div><div id="tooltip" class="-noprint"></div>'),$("#notify").hide(),$('a[href$=".pdf"], a[href*="files/"]').addClass("pdflink"),$(".sg-load,[data-load]").each((function(t){let e=$(this),n=e.data("url"),i=e.data("replace"),o={};o=e.data(),delete o.url,null==n&&(n=e.data("load")),n&&("/"!=n.left(1)&&(n=SG.url(n)),$.post(n,o,(function(t){i?e.replaceWith(t):e.html(t)})))}))})),$(document).on("keydown",".-monospace",(function(t){if("Tab"==t.key){t.preventDefault();let i=t.target;var e=i.selectionStart,n=i.selectionEnd;i.value=i.value.substring(0,e)+"\t"+i.value.substring(n),i.selectionStart=i.selectionEnd=e+1}})),$(document).on("mousemove","[data-tooltip]",(function(t){var e="#tooltip",n=t.pageX+20,i=n+$(e).outerWidth(),o=$(window).width()-40,a=t.pageX-(parseInt(0)+$(e).outerWidth()+20),s=$(this).attr("data-tooltip");$(e).html(s).show(),i>o&&a>0&&(n=a);var r=t.pageY+10,c=parseInt(t.pageY+parseInt(0)+20),l=parseInt(parseInt($(document).scrollTop())+parseInt($(window).height())),d=r,f=parseInt($(document).scrollTop());c>l?r=l-$(e).outerHeight()-20:d<f&&(r=f+20),$(e).css("top",r).css("left",n)})).on("mouseleave","[data-tooltip]",(function(t){$("#tooltip").hide()})),$(document).on("click","a[data-confirm]",(function(t){var e=$(this);return!!e.data("confirmed")||(e.data("confirmed",!1),t.stopPropagation(),$.confirm({title:e.data("title")?e.data("title"):e.data("confirm"),content:e.data("confirm"),draggable:!0,escapeKey:!0,backgroundDismiss:!1,escapeKey:"Cancel",scrollToPreviousElement:!1,boxWidth:"300px",useBootstrap:!1,theme:"material",buttons:{Cancel:{btnClass:"btn -link -cancel",action:function(){}},Ok:{text:' <i class="icon -material">done_all</i> OK ',btnClass:"btn -primary",keys:["enter","o"],action:function(){e.data("confirmed",!0),e.trigger("click"),e.removeData("confirmed")}}}}),t.stopPropagation(),!1)})),$(document).on("focus",".flatpickr-sg-datepicker",(function(t){var e={clickInput:!0,dateFormat:"d/m/Y",altFormat:"yy-mm-dd",altField:"",disabled:!1,locale:"th",monthNames:thaiMonthName,beforeShow:function(t){$(".ui-datepicker:visible").css({top:"+=5"})},onSelect:function(t,e){if($(this).data("previous")!=t){if($(this).data("diff")){var n=$("#"+$(this).data("diff")),i=$(this);if(""==n.val())n.val(i.val());else{var o,a=($(this).data("previous")?$(this).data("previous"):t).split("/"),s=$(this).val().split("/"),r=n.val().split("/"),c=new Date(a[2],a[1]-1,a[0]),l=new Date(r[2],r[1]-1,r[0]),d=new Date(s[2],s[1]-1,s[0]);o=Math.round((l-c)/864e5);var f=new Date(d);f.setDate(d.getDate()+o);var u=f.getDate(),p=f.getMonth()+1,g=f.getFullYear(),h="00",m=(h+u).slice(-h.length)+"/"+(h+p).slice(-h.length)+"/"+g;n.val(m)}}$(this).trigger("dateupdated")}var v=$(this).data("callback");if(v)if("submit"==v)$(this).closest("form").submit();else if("function"==typeof window[v])window[v](t,$(this));else{var b=v+"/";window.location=b}}},n=$.extend(e,$(this).data());$(this).flatpickr(n)})),$(document).on("click","a[href^=\\#]:not(.sg-action)",(function(t){t.preventDefault();var e=$(this).attr("href"),n=$(this).parent().parent().hasClass("tabs");if("#"!=e&&!n){var i=e.substring(1);return $(e).length?($("html,body").animate({scrollTop:$(e).offset().top-128},"slow"),!0):$('a[name="'+i+'"]').length?($("html,body").animate({scrollTop:$('a[name="'+i+'"]').offset().top-128},"slow"),!0):void 0}}));var editor={version:"0.0.3b",controls:new Array,start_tag:"",end_tag:"",click:function(t){let e;e=t||event;let n,i=e.target?e.target:e.srcElement,o=(document.getElementsByTagName("textarea"),i.parentNode);o&&"editor"==o.className&&(n=document.getElementById(o.title),editor.start_tag&&editor.insertCode(n,editor.start_tag,editor.end_tag)),editor.start_tag="",editor.end_tag=""},insert:function(t,e){null==t&&(t=""),null==e&&(e=""),this.start_tag=t,this.end_tag=e},insertCode:function(t,e,n){if(document.selection)t.focus(),sel=document.selection.createRange(),sel.text.length>0?sel.text=e+sel.text+n:sel.text=e+n,t.focus();else if(t.selectionStart||"0"==t.selectionStart){var i=t.selectionStart,o=t.selectionEnd,a=o,s=t.scrollTop;i!=o?(t.value=t.value.substring(0,i)+e+t.value.substring(i,o)+n+t.value.substring(o,t.value.length),a=a+e.length+n.length):(t.value=t.value.substring(0,i)+e+n+t.value.substring(o,t.value.length),a=i+e.length),t.focus(),t.selectionStart=a,t.selectionEnd=a,t.scrollTop=s}else t.value+=e+n,t.focus()},url:function(t){var e=prompt("enter your url","http://");null!=e&&this.insert("[","]("+e+")")},image:function(t){var e="http://";(null!=t||null!=(t=prompt("enter your image location",e))&&t!=e)&&this.insert("![คำอธิบายภาพ","]("+t+' "ชื่อภาพ")')},emotion:function(t){},color:function(t){this.COLORS=[["ffffff","cccccc","c0c0c0","999999","666666","333333","000000"],["ffcccc","ff6666","ff0000","cc0000","990000","660000","330000"],["ffcc99","ff9966","ff9900","ff6600","cc6600","993300","663300"],["ffff99","ffff66","ffcc66","ffcc33","cc9933","996633","663333"],["ffffcc","ffff33","ffff00","ffcc00","999900","666600","333300"],["99ff99","66ff99","33ff33","33cc00","009900","006600","003300"],["99ffff","33ffff","66cccc","00cccc","339999","336666","003333"],["ccffff","66ffff","33ccff","3366ff","3333ff","000099","000066"],["ccccff","9999ff","6666cc","6633ff","6600cc","333399","330099"],["ffccff","ff99ff","cc66cc","cc33cc","993399","663366","330033"]];for(var e="",n=0;n<this.COLORS.length;n++)for(var i=0;i<this.COLORS[n].length;i++)e=e+'<img src="/css/img/none.gif" width="14" height="14" onClick="editor.insert(\'[color=#'+this.COLORS[n][i]+"]','[/color]')\" style=\"background-color:#"+this.COLORS[n][i]+';margin:0 1px 1px 0;">';var o=document.getElementById(t);null!=o&&(o.innerHTML=e)}};function setCookie(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toUTCString()}document.cookie=t+"="+(e||"")+i+"; path=/"}function getCookie(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return null}function eraseCookie(t){document.cookie=t+"=; expires = Thu, 01 Jan 1970 00:00:00 GMT; path=/"}void 0!==document.attachEvent?document.attachEvent("onclick",editor.click):document.addEventListener("click",editor.click,!1),function(t){t.fn.easySlider=function(e){e=t.extend({prevId:"prevBtn",prevText:"Previous",nextId:"nextBtn",nextText:"Next",controlsShow:!0,controlsBefore:"",controlsAfter:"",controlsFade:!0,firstId:"firstBtn",firstText:"First",firstShow:!1,lastId:"lastBtn",lastText:"Last",lastShow:!1,vertical:!1,speed:800,auto:!1,pause:2e3,continuous:!1,numeric:!1,numericId:"controls",hoverpause:!1,beginSlide:{},debug:!1},e);var n=0;this.each((function(){var i,o=t(this),a=(i=null==o.data("slider")?o.children().first():o.find("."+o.data("slider")).children().first()).children().first();(e=t.extend(e,o.data())).slideTag=a.prop("tagName");var s=t(e.slideTag,i).length,r=t(o).width(),c=t(o).height();e.debug&&notify("Slide Main="+i.prop("tagName")+" Slide Tag="+e.slideTag+" on "+s+" slide Option="+e),t(e.slideTag,i).width(r).css({overflow:"hidden",position:"relative"}),t(e.slideTag,i).height(c),o.css("overflow","hidden");var l,d=s-1,f=0;if(i.css({width:s*r,margin:0,padding:0,"list-style":"none"}),e.vertical||t(e.slideTag,i).css("float","left"),e.controlsShow){var u=e.controlsBefore;e.firstShow&&(u+='<span id="'+e.firstId+'"><a href="javascript:void(0);">'+e.firstText+"</a></span>"),u+=' <span id="'+e.prevId+'"><a href="javascript:void(0);">'+e.prevText+"</a></span>",u+=' <span id="'+e.nextId+'"><a href="javascript:void(0);">'+e.nextText+"</a></span>",e.lastShow&&(u+=' <span id="'+e.lastId+'"><a href="javascript:void(0);">'+e.lastText+"</a></span>"),u+=e.controlsAfter,t(o).after(u)}function p(o,a){e.debug&&notify("Slide Main="+i.prop("tagName")+" Slide Tag="+e.slideTag+" on "+s+" slide "+ ++n+" Option="+e.controlsShow);var u=f;switch(o){case"next":f=u>=d?e.continuous?0:d:f+1;break;case"prev":f=f<=0?e.continuous?d:0:f-1;break;case"first":f=0;break;case"last":f=d;break;default:break}t.isFunction(e.onBeginSlide)&&e.onBeginSlide.call(this,f);var g,h=Math.abs(u-f),m=h*e.speed;e.vertical?(g=f*c*-1,i.animate({marginTop:g},m)):(g=f*r*-1,i.animate({marginLeft:g},m)),!e.continuous&&e.controlsFade&&(f==d?(t("a","#"+e.nextId).hide(),t("a","#"+e.lastId).hide()):(t("a","#"+e.nextId).show(),t("a","#"+e.lastId).show()),0==f?(t("a","#"+e.prevId).hide(),t("a","#"+e.firstId).hide()):(t("a","#"+e.prevId).show(),t("a","#"+e.firstId).show())),a&&clearTimeout(l),e.auto&&"next"==o&&!a&&(l=setTimeout((function(){p("next",!1)}),h*e.speed+e.pause))}t("a","#"+e.nextId).click((function(){p("next",!0)})),t("a","#"+e.prevId).click((function(){p("prev",!0)})),t("a","#"+e.firstId).click((function(){p("first",!0)})),t("a","#"+e.lastId).click((function(){p("last",!0)})),e.auto&&(l=setTimeout((function(){p("next",!1)}),e.pause)),e.hoverpause&&e.auto&&t(this).mouseover((function(){clearTimeout(l)})).mouseout((function(){p("next",!1)})),!e.continuous&&e.controlsFade&&(t("a","#"+e.prevId).hide(),t("a","#"+e.firstId).hide())}))},t(document).ready((function(){t(".sg-slider").easySlider({auto:!0,continuous:!0,pause:5e3,speed:500,controlsShow:!1,debug:!1})}))}(jQuery),function(t){t.fn.number=function(t,e,n,i){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+t)?+t:0,a=isFinite(+e)?Math.abs(e):0,s=void 0===i?",":i,r=void 0===n?".":n,c="";c=(a?function(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}(o,a):""+Math.round(o)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,s)),(c[1]||"").length>a&&(c[1]=c[1]||"",c[1]+=new Array(a-c[1].length+1).join("0")),this.text(c.join(r))},t.fn.isOnScreen=function(){var t=this.get(0);if(!t)return!0;var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}}(jQuery),function(t){var e=function(t,e){this.options=this.enabled=this.$element=null,this.init(t,e)};e.DEFAULTS={test:"loading..."},e.prototype.init=function(e,n){this.enabled=!0,this.$element=t(e),this.options=this.getOptions(n),this.$element.prepend('<button type="button" class="sg-navtoggle btn" aria-hidden="true"><i aria-hidden="true" class="icon -material">menu</button>');var i=this.$element;t(this.$element).on("click",".sg-navtoggle",(function(){i.toggleClass("-active")}))},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e)};var n=t.fn.button;t.fn.responsivemenu=function(n){return this.each((function(){var i=t(this),o=i.data("sg.responsivemenu"),a="object"==typeof n&&n;o||i.data("sg.responsivemenu",o=new e(this,a)),"string"==typeof n&&o[n]()}))},t.fn.responsivemenu.Constructor=e,t.fn.responsivemenu.noConflict=function(){return t.fn.responsivemenu=n,this},t(document).ready((function(){t(".sg-responsivemenu").responsivemenu()}))}(jQuery);